<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="Finally20.css">
    <title>Finally20!</title>

</head>
<body style="background-color: #E6CCB5">
<br>
<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" href="riddhi.html" >Home</a>
        </li>
    </ul>
</nav>
<br>
    <div class="header">
    <h1 style="text-align: center; color: #C64661">It' gonna be a great year!</h1>
    </div>
    <div class="container col-sm-10" style=" border-style:double ;border-color: #FD8282; height: 80%">
        <ul id="list" style="color: #FD8282">
            </ul>
        </div>
    <br>
    <div class="container col-sm-10" id="addentry">

        <textarea rows="50" cols="80" id="entry" autocomplete="off" autofocus placeholder="Write something!"  wrap="soft" style="background: #E6CCB5; width: 80%; height: 40px"></textarea>
        <button onclick="newElement()" class="addBtn" style="background: #E6CCB5" >Enter</button>
    </div>
</body>
</html>
<script>



        let myNodelist = document.getElementsByClassName("newList");
        let i;
        const input=document.getElementById("entry")
        let itemsArray = localStorage.getItem('items') ? JSON.parse(localStorage.getItem('items')) : []
        localStorage.setItem('items', JSON.stringify(itemsArray))
        const data = JSON.parse(localStorage.getItem('items'))
        const liMaker = text => {
            const li = document.createElement('li')
            li.className="newList"
            li.textContent = text
            document.getElementById("list").appendChild(li);

            let span = document.createElement("SPAN");
            let txt = document.createTextNode("\u00D7");
            span.className = "close";
            span.appendChild(txt);
            li.appendChild(span);

            for (i = 0; i < close.length; i++) {
                close[i].onclick = function () {
                    let div = this.parentElement;
                    div.style.display = "none";
                    let x=itemsArray[i];
                    localStorage.removeItem(x);
                }
            }

        }
        for (i = 0; i < myNodelist.length; i++) {
            let span = document.createElement("SPAN");
            let txt = document.createTextNode("\u00D7");
            span.className = "close";
            span.appendChild(txt);
            myNodelist[i].appendChild(span);
        }
        // Click on a close button to hide the current list item
        let close = document.getElementsByClassName("close");

        for (i = 0; i < close.length; i++) {
            close[i].onclick = function () {
                let div = this.parentElement;
                div.style.display = "none";
                let x=itemsArray[i];
                localStorage.removeItem(x);
            }
        }

        // Create a new list item when clicking on the "Add" button
        function newElement() {
            itemsArray.push(input.value)
            localStorage.setItem('items', JSON.stringify(itemsArray))
            if (input.value === '') {
                alert("Write something!");
            } else {
                liMaker(input.value)
            }
            input.value = ''
        }
        data.forEach(item => {
            liMaker(item)
        })

        /*let li = document.createElement("li");
        li.className="newList";
        let inputValue = document.getElementById("entry").value;
        let t = document.createTextNode(inputValue);
        li.appendChild(t);
        if (inputValue === '') {
            alert("Write something!");
        } else {
            document.getElementById("list").appendChild(li);
        }
        document.getElementById("entry").value = "";

            let span = document.createElement("SPAN");
            let txt = document.createTextNode("\u00D7");
            span.className = "close";
            span.appendChild(txt);
            li.appendChild(span);

            for (i = 0; i < close.length; i++) {
                close[i].onclick = function () {
                    let div = this.parentElement;
                    div.style.display = "none";
                }
            };*/



</script>
